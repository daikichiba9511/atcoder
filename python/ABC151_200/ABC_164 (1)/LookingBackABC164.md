# ABC164

久々にABCでたので振り返りと軽い解説書くことでモチベをあげたい。
数学とか数理的なのメインであげてこうと思ってたけど、アウトプットが足りないのでなんでもいいから書いていこうと思った訳で色々出していく一年にしたいなと。。（まとまってから書こうと思うと全然書かないので。。）

## 感想

３完でした。D問題でどう探索したら早くできるか分からず、途中で諦めた。
A問題はゼミが終わってすぐでボーッとしてたのか条件を間違えてしまった。。
DPはいずれそれなりにベンキョしたいなと思いつつ。。D問題解くにはそれなりに手札がいるなと感じました。。

## A. Sheep and Wolves

### 問題

- 羊と狼の数が与えられて、狼の数が多ければ`unsafe`、羊が多ければ`safe`

### 制約

S : 羊の数
W : 狼の数

- 1 $\leq$ S $\leq$ 100
- 1 $\leq$ W $\leq$ 100

### 考察

特にないけど、ボーッとしてたのか条件判定を`w >= 0`と書いてて１ポカした

### 解答

```python
def main():
    s, w = map(int, input().split())
    if w >= s:
        print("unsafe")
    else: print("safe")


if __name__ == "__main__":
    main()
```

## B. Battle

### 概要

- 高橋くん（HP:a, Atack:b) と青木くん(HP:c, Atack:d)のHPが０になるまでのしばきあい
- 高橋　→　青木　→　高橋　→　・・・　の順でHPが０になるまで
- 高橋くんが勝つなら`Yes`、負けるなら`No`

### 制約

- 1 $\leq$ A, B, C, D $\leq$ 100
- 入力は全て整数

### 考察

特に問題はないかなと思うけど、もっと綺麗に実装できるようになりたいなと思った。。

### 解答

```python
def main():
    a, b, c, d = map(int, input().split())
    flag = False
    while True:
        c -= b
        if c <= 0:
            flag = True
            break
        a -= d
        if a <= 0:
            break
    if flag:print("Yes")
    else:print("No")

if __name__ == "__main__":
    main()
```

## C. gacha

### 問題

- N個の入力のうち、Sの集合の元の数

### 制約

- 1 $\leq$ N $\leq$ 2 $\times 10^ 5$ 
- $S_i$は英小文字のみからなり、長さは１以上１０以下

### 考察

リストで入力を持って,`set()`で重複してるものを消去して、その集合の要素の数を数えた

### 解答

```python
def main():
    n = int(input())
    s = [input() for _ in range(n)]
    kind = set(s)
    print(len(kind))

if __name__ == "__main__":
    main()
```

## D. Multiple of 2019

### 概要

- `1`から`9`までの数字でなる文字列のうち2019の倍数となる部分文字列は何組あるか数える

### 制約

- $1 \leq |S| \leq 200000$
- Sは`1`から`9`までの数字からなる文字列

### 考察

- 自分の解答は普通に線形探索してみたけどTLEになった。
- どうしたら実行時間が短くなるか分からずタイムアップ

### 解答

#### 解説見る前の解答

```python
def main():
    s = input()
    cnt = 0
    for i in range(len(s)-3):
        for j in range(i+3, len(s)+1, ):
            if i == j : continue
            tmp = s[i:j]
            if int(tmp) % 2019 == 0:
                cnt += 1
    print(cnt)
if __name__ == "__main__":
    main()
```


#### 解説

n : Sの長さ
$a_k$ : Sの左からk番目の数字

- (i, j)が条件を満たすのは「$a_j+10a_{j-1}+\cdots+10^{j-1}a_i$」が2019の倍数の時
- 2019は２でも５でも割り切れないから`mod 2019`に逆元が存在してそのため10nが2019の倍数であることとnが2019の倍数であることは同値
- k＋１番目からの文字列は$T_{k} = a_ {n} + 10 a_{n-1} + \cdots + 10^{n-k-1} a_{k+1}$と表せる整数
- (i, j)が条件を満たすのは$10^{n-j}(T_{i-1} - T_j)$が2019の時でこれは$T_{j-1}==T_i(mod 2019)$という条件
- 各$T_i(mod2019)$を計算してmodの値が同じごとに個数を計算して足せば良いことになる
- $T_i = 10 T_{i+1}a_i$より、これをDPで計算して、mod毎に`m(m-1)/2`を足せばいい

らしい。。各点毎に噛み砕いていく。。

- 1つ目は部分文字列を各桁の数字の和で表してるだけ
- 二つ目がへーそーなんだー案件。。なんでなのか分からん。。いったんここは認めて、分かり次第追記することにする（分かる人いたら教えてください。。）
- ３行目は１行目と同じこと
- 4つ目〜６つ目もなんでなのかよく分からない。。未来の自分に期待しよう。。（分かる人いたら教えてください。。）

分かり次第アップデートしていこう。。

## 資料

- [ABC164問題](https://atcoder.jp/contests/abc164)
- [ABC164解説](https://img.atcoder.jp/abc164/editorial.pdf)